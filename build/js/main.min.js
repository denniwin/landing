$("#phone").mask("+7 999 999-99-99");var cleavePrice=new Cleave("#price",{delimiter:" ",numeral:!0,numeralIntegerScale:10,prefix:" ₽",tailPrefix:!0,numeralPositiveOnly:!0,numeralThousandsGroupStyle:"thousand"}),cleaveCount=new Cleave("#count",{delimiter:" ",numeral:!0,numeralIntegerScale:8,prefix:" м²",tailPrefix:!0,numeralPositiveOnly:!0,numeralThousandsGroupStyle:"thousand"});$(".order").validate({rules:{email:{required:!0,email:!0,maxlength:30},phone:{required:!0,minlength:16}},errorPlacement:function(e,t){},errorClass:"field__control_error",validClass:"field__control_valid",submitHandler:function(e,t){t.preventDefault();let a=$(".order").serialize();$.ajax({url:"./conf/telegram.php",method:"POST",dataType:"html",data:a,success:function(e){"ok"===e?($.fancybox.open({src:"#hidden",type:"inline"}),$(".order").find(".tags").remove(),$(".order").find(".attach__content").remove(),$(".order").trigger("reset"),$(".field__control").removeClass("field__control_valid"),$(".slider_under-price").slider("value",0)):alert("Произошла ошибка, проверьте корректность ввода данных.")}})}}),$(window).keyup((function(e){var t=$(".checkbox input:focus");9==e.keyCode&&$(t).length&&$(t).parent().addClass("focused")})),$(".checkbox input").focusout((function(){$(this).parent().removeClass("focused")})),$("body").on("click",".number__minus, .number__plus",(function(){var e=$(this).closest(".number"),t=e.find(".number__text"),a=e.data("step"),n=parseFloat(t.val());return $(this).hasClass("number__minus")?n-=a:n+=a,n<0?cleaveCount.setRawValue("0"):cleaveCount.setRawValue(n),!1})),$((function(){$(".slider_under-price").slider({animate:"slow",range:"min",min:0,max:4e6,value:0,step:1e3,slide:function(e,t){cleavePrice.setRawValue(t.value)}}),$("#price").on("input",(function(){let e=parseInt(cleavePrice.getRawValue());$(".slider_under-price").slider({value:e})}))}));var items=["10","20","30","40+"],s=$(".slider_under-price");s.slider({min:1,max:items.length});var oneBig=100/(items.length-1);$.each(items,(function(e,t){var a=oneBig;0!==e&&e!==items.length-1||(a=oneBig/2),$(".legend").append(`<label class="legend__label" style='width: ${a}%'>${t}</label>`)})),$(".select__item_base").click((function(){$(this).parent().toggleClass("select_open")})),$(".select__options .select__item").click((function(){let e=$(this).parent().parent().parent(),t=$(".select__item_base").text().trim(),a=$(this).find(".select__value").text();e.find("input").val(a),e.find(".select__item_base .select__value").text(a),$(this).find(".select__value").text(t),$(".select_open").removeClass("select_open")})),$(document).click((function(e){$(".select_open").each((function(){0==$(this).find(e.target).length&&$(this).removeClass("select_open")}))})),$("body").on("click",".password__button",(function(){"password"===$(".password__field").attr("type")?($(".password__field").attr("type","text"),$(".eye-off").show(200),$(".eye-on").hide(200)):($(".password__field").attr("type","password"),$(".eye-off").hide(200),$(".eye-on").show(200))})),$(".gallery__button.gallery__button_bath").on("click",(function(e){e.preventDefault(),$(".gallery__button").removeClass("gallery__active"),$(this).addClass("gallery__active")})),$(".gallery__button.gallery__button_sauna").on("click",(function(e){e.preventDefault(),$(".gallery__button").removeClass("gallery__active"),$(this).addClass("gallery__active")})),$(".gallery__button.gallery__button_hammams").on("click",(function(e){e.preventDefault(),$(".gallery__button").removeClass("gallery__active"),$(this).addClass("gallery__active")})),$(".gallery__button.gallery__button_swim").on("click",(function(e){e.preventDefault(),$(".gallery__button").removeClass("gallery__active"),$(this).addClass("gallery__active")})),$("#wishes").on("input",(function(){let e=$(this).val().split(", ");e.length>1&&($(this).val(""),$(".tags").append(`<div class="tags__item"><span class="tags__value">${e[0]}</span><span class="tags__delete"><img src="./img/Icon_delete.svg" alt="Icon_delete"></span></div>`));let t=[],a="";$(".tags__value").each((function(e,a){t.push(`${e+1} - ${$(a).text()}`)})),a=t.join(", "),$("#tags").val(a)})),$(document).on("click",".tags__delete",(function(){$(this).parent().fadeOut(200,(function(){$(this).remove()}))}));var dropZone=$(".attach__title");function sendFiles(e){let t=new FormData;$(e).each((function(e,a){a.size<=5242880&&("image/png"==a.type||"image/jpeg"==a.type)&&(t.append("images[]",a),$(".attach").append(`<div class="attach__content"><div class="attach__content_delete"><img src="./img/x-close.svg" alt="x"></div><div class="attach__content_name">${a.name}</div><progress class="attach__content_progress" value="100" max="100"></progress></div>`))}))}$(".attach__input").focus((function(){$("label").addClass("focus")})).focusout((function(){$("label").removeClass("focus")})),dropZone.on("drag dragstart dragend dragover dragenter dragleave drop",(function(){return!1})),dropZone.on("dragover dragenter",(function(){dropZone.addClass("dragover")})),dropZone.on("dragleave",(function(e){let t=e.pageX-dropZone.offset().left,a=e.pageY-dropZone.offset().top;(t<0||t>dropZone.width()||a<0||a>dropZone.height())&&dropZone.removeClass("dragover")})),dropZone.on("drop",(function(e){dropZone.removeClass("dragover"),sendFiles(e.originalEvent.dataTransfer.files)})),$(".attach__input").change((function(){sendFiles(this.files)})),$(document).on("click",".attach__content_delete",(function(){$(this).parent().fadeOut(200,(function(){$(this).remove()}))}));
//# sourceMappingURL=../sourcemaps/main.min.js.map
