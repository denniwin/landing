{"version":3,"sources":["main.js"],"names":["$","mask","cleavePrice","Cleave","delimiter","numeral","numeralIntegerScale","prefix","tailPrefix","numeralPositiveOnly","numeralThousandsGroupStyle","cleaveCount","document","ready","validate","rules","email","required","maxlength","phone","minlength","errorPlacement","error","element","errorClass","validClass","submitHandler","form","event","preventDefault","$sendValue","serialize","ajax","url","method","dataType","data","success","alert","find","val","window","keyup","e","target","keyCode","length","parent","addClass","focusout","this","removeClass","on","$row","closest","$input","step","parseFloat","hasClass","change","slick","rows","slidesToShow","slidesToScroll","adaptiveHeight","arrows","dots","appendDots","responsive","breakpoint","settings","slider","animate","range","min","max","value","slide","ui","priceInt","parseInt","getRawValue","items","oneBig","each","key","w","append","click","toggleClass","$selectContainer","text","attr","show","hide","$value","split","tags","result","push","join","fadeOut","remove","dropZone","sendFiles","files","Data","FormData","index","file","size","type","name","contentType","processData","focus","dx","pageX","offset","left","dy","pageY","top","width","height","originalEvent","dataTransfer","jQuery","slickFilterable","filterName","filter","category","fn","options","extend","slideSelector","beforeFilter","slides","newSlides","call"],"mappings":"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","file":"../js/main.min.js","sourcesContent":["//InputMask\r\n$('#phone').mask('+7 999 999-99-99');\r\n\r\nvar cleavePrice = new Cleave('#price', {\r\n  delimiter: ' ',\r\n  numeral: true,\r\n  numeralIntegerScale: 10,\r\n  prefix: ' ₽',\r\n  tailPrefix: true,\r\n  numeralPositiveOnly: true,\r\n  numeralThousandsGroupStyle: 'thousand'\r\n});\r\n\r\nvar cleaveCount = new Cleave('#count', {\r\n  delimiter: ' ',\r\n  numeral: true,\r\n  numeralIntegerScale: 8,\r\n  prefix: ' м²',\r\n  tailPrefix: true,\r\n  numeralPositiveOnly: true,\r\n  numeralThousandsGroupStyle: 'thousand'\r\n});\r\n\r\n  //Validate Email, Number\r\n  $(document).ready(function() {\r\n    $(\".order\").validate({\r\n      rules: {\r\n        email: {\r\n          required: true,\r\n          email: true,\r\n          maxlength: 30\r\n        },\r\n\r\n        phone: {\r\n          required: true,\r\n          minlength: 16\r\n        },\r\n\r\n      },\r\n      errorPlacement: function(error, element) {   },\r\n      errorClass : 'field__control_error',\r\n      validClass : 'field__control_valid',\r\n      submitHandler: function(form, event) {event.preventDefault()\r\n        let $sendValue = $('.order').serialize();\r\n        $.ajax({\r\n          url: './conf/telegram.php',\r\n          method: 'POST',\r\n          dataType: 'html',\r\n          data: $sendValue,\r\n          success: function(data){\r\n            if (data === 'ok') {\r\n              alert('Благодарим за обращение. Данные успешно приняты и отправлены менеджеру.')\r\n              $('.order').find('input[type=text]').val('');\r\n            } else alert('Произошла ошибка, проверьте корректность ввода данных.')\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n//Checkbox \r\n$(window).keyup(function(e){\r\n\tvar target = $('.checkbox-ios input:focus');\r\n\tif (e.keyCode == 9 && $(target).length){\r\n\t\t$(target).parent().addClass('focused');\r\n\t}\r\n});\r\n\r\n$('.checkbox-ios input').focusout(function(){\r\n\t$(this).parent().removeClass('focused');\r\n});\r\n\r\n//Counter\r\n$(document).ready(function() {\r\n\t$('body').on('click', '.number-minus, .number-plus', function(){\r\n\t\tvar $row = $(this).closest('.number');\r\n\t\tvar $input = $row.find('.number-text');\r\n\t\tvar step = $row.data('step');\r\n\t\tvar val = parseFloat($input.val());\r\n\t\tif ($(this).hasClass('number-minus')) {\r\n\t\t\tval -= step;\r\n\t\t} else {\r\n\t\t\tval += step;\r\n\t\t}\r\n\r\n    if (val < 0) {\r\n      $input.val('0');\r\n    } else {\r\n      $input.val(val);\r\n      $input.change();\r\n    }\r\n\t\treturn false;\r\n\t});\r\n});\r\n\r\n//Slider\r\n$('.js-slider').slick({\r\n  rows: 2,\r\n  slidesToShow: 4,\r\n  slidesToScroll: 4,\r\n  adaptiveHeight: true,\r\n  arrows: true,\r\n  dots: true,\r\n  appendDots:$(\".gallery__footer\"),\r\n  responsive: [\r\n    {\r\n        breakpoint: 700,\r\n        settings: {\r\n            rows: 2,\r\n            slidesToShow: 2,\r\n            slidesToScroll: 2\r\n        }\r\n    }\r\n]\r\n  });\r\n\r\n//Slider for input\r\n  $(function(){\r\n    $('.slider_under-price').slider({\r\n      animate: \"slow\",\r\n      range:'min',\r\n      min: 0,\r\n      max: 4000000,\r\n      value: 0,\r\n      step: 1000,\r\n      slide: function(event, ui){\r\n        $('#price').val(ui.value);\r\n      }\r\n    });\r\n\r\n    $('#price').on('input', function(){\r\n      let priceInt = parseInt(cleavePrice.getRawValue());\r\n      $(\".slider_under-price\").slider({'value': priceInt});\r\n    }); \r\n  });\r\n\r\n//label for slider\r\n  var items = ['10','20','30','40+'];\r\n  var s = $(\".slider_under-price\");\r\n\r\n  s.slider({\r\n    min:1,\r\n    max:items.length,\r\n  });\r\n\r\n  var oneBig = 100 / (items.length - 1);\r\n\r\n$.each(items, function(key,value){\r\n  var w = oneBig;\r\n  if (key === 0 || key === items.length-1)\r\n    w = oneBig/2;\r\n  $(\".legend\").append(`<label class=\"legend__label\" style='width: ${w}%'>${value}</label>`);\r\n});\r\n\r\n//Show select menu\r\n    $(\".select__item_base\").click(function(){\r\n      $(this).parent().toggleClass(\"select_open\");\r\n    })\r\n  \r\n    $(\".select__options .select__item\").click(function(){\r\n      let $selectContainer =  $(this).parent().parent().parent();\r\n      const text = $(this).find(\".select__value\").text();\r\n      $selectContainer.find(\"input\").val(text);\r\n      $selectContainer.find(\".select__item_base .select__value\").text(text);\r\n      $(\".select_open\").removeClass(\"select_open\");\r\n    })\r\n  \r\n    $(document).click(function(e){\r\n      $(\".select_open\").each(function(){\r\n        if( $(this).find(e.target).length == 0){\r\n          $(this).removeClass(\"select_open\");\r\n        }\r\n      })\r\n    })\r\n  })\r\n\r\n//Show-hide icon password\r\n$('body').on('click', '.password__button', function(){\r\n  let $passwordField = $('.password__field').attr('type');\r\n  if ($passwordField === 'password') {\r\n    $('.password__field').attr('type', 'text');\r\n    $('.eye-off').show(200);\r\n    $('.eye-on').hide(200);\r\n  } else {\r\n    $('.password__field').attr('type', 'password');\r\n    $('.eye-off').hide(200);\r\n    $('.eye-on').show(200);\r\n  }\r\n})\r\n\r\n$('.gallery__button.gallery__button_bath').on('click', function(e){\r\n  e.preventDefault()\r\n  $(\".gallery__button\").removeClass(\"gallery__active\");\r\n  $(this).addClass('gallery__active')\r\n  // $(this).attr('data-filter-heading',  $(this).attr('data-filter-heading') == 'category-1' ? 'all': 'category-1');\r\n  });\r\n\r\n$('.gallery__button.gallery__button_sauna').on('click', function(e){\r\n  e.preventDefault()\r\n  $(\".gallery__button\").removeClass(\"gallery__active\");\r\n  $(this).addClass('gallery__active')\r\n  // $(this).attr('data-filter-heading',  $(this).attr('data-filter-heading') == 'category-2' ? 'all': 'category-2');\r\n  });\r\n\r\n$('.gallery__button.gallery__button_hammams').on('click', function(e){\r\n  e.preventDefault()\r\n  $(\".gallery__button\").removeClass(\"gallery__active\");\r\n  $(this).addClass('gallery__active')\r\n  // $(this).attr('data-filter-heading',  $(this).attr('data-filter-heading') == 'category-3' ? 'all': 'category-3');\r\n  });\r\n\r\n$('.gallery__button.gallery__button_swim').on('click', function(e){\r\n  e.preventDefault()\r\n  $(\".gallery__button\").removeClass(\"gallery__active\");\r\n  $(this).addClass('gallery__active')\r\n  // $(this).attr('data-filter-heading',  $(this).attr('data-filter-heading') == 'category-4' ? 'all': 'category-4');\r\n  });\r\n\r\n\r\n//Create array for post\r\n  $('#wishes').on('input', function(){\r\n    let $value = $(this).val().split(', ');\r\n    if ($value.length > 1 ) {\r\n      $(this).val('');\r\n      $('.tags').append(`<div class=\"tags__item\"><span class=\"tags__value\">${$value[0]}</span><span class=\"tags__delete\"><img src=\"./img/Icon_delete.svg\" alt=\"Icon_delete\"></span></div>`);\r\n    }\r\n\r\n    let tags = [];\r\n    let result = '';\r\n    $('.tags__value').each(function(key, value) {\r\n      tags.push(`${key + 1} - ${$(value).text()}`);\r\n    })\r\n    result = tags.join(', ');\r\n    $('#tags').val(result);\r\n  })\r\n\r\n//Delete tags\r\n  $(document).on('click','.tags__delete', (function(){\r\n    $(this).parent().fadeOut (200, function() {\r\n    $(this).remove();\r\n  })\r\n  }))\r\n\r\n  //upload\r\n  $(document).ready(function(){\r\n    var dropZone = $('.attach__title');\r\n  \r\n    $('.attach__input').focus(function() {\r\n      $('label').addClass('focus');\r\n    })\r\n    .focusout(function() {\r\n      $('label').removeClass('focus');\r\n    });\r\n  \r\n  \r\n    dropZone.on('drag dragstart dragend dragover dragenter dragleave drop', function(){\r\n      return false;\r\n    });\r\n  \r\n    dropZone.on('dragover dragenter', function() {\r\n      dropZone.addClass('dragover');\r\n    });\r\n  \r\n    dropZone.on('dragleave', function(e) {\r\n      let dx = e.pageX - dropZone.offset().left;\r\n      let dy = e.pageY - dropZone.offset().top;\r\n      if ((dx < 0) || (dx > dropZone.width()) || (dy < 0) || (dy > dropZone.height())) {\r\n        dropZone.removeClass('dragover');\r\n      }\r\n    });\r\n  \r\n    dropZone.on('drop', function(e) {\r\n      dropZone.removeClass('dragover');\r\n      let files = e.originalEvent.dataTransfer.files;\r\n      sendFiles(files);\r\n    });\r\n  \r\n    $('.attach__input').change(function() {\r\n      let files = this.files;\r\n      sendFiles(files);\r\n    });\r\n  \r\n  \r\n    // //progress\r\n    // const BYTES_IN_MB = 1048576;\r\n\r\n    // const form = $('.order');\r\n    // const fileInput = $('.attach__input');\r\n    // const progressBar = $('.attach__content_progress');\r\n\r\n    // fileInput.addEventListener('change', function () {\r\n    //   const file = this.files[0]\r\n    //   if (file.size > 5 * BYTES_IN_MB) {\r\n    //     alert('Принимается файл до 5 МБ')\r\n    //     this.value = null\r\n    //   }\r\n    // });\r\n\r\n    // form.addEventListener('submit', function (event) {\r\n    //   event.preventDefault()\r\n    //   const fileToUpload = fileInput.files[0]\r\n    //   const formSent = new FormData()\r\n    //   const xhr = new XMLHttpRequest()\r\n    \r\n    //   if (fileInput.files.length > 0) {\r\n    //     formSent.append('attach__input', fileToUpload)\r\n    \r\n    //     // собираем запрос и подписываемся на событие progress\r\n    //     xhr.upload.addEventListener('progress', progressHandler, false)\r\n    //     xhr.addEventListener('load', loadHandler, false)\r\n    //     xhr.open('POST', 'upload_processing.php')\r\n    //     xhr.send(formSent)\r\n    //   } else {\r\n    //     alert('Сначала выберите файл')\r\n    //   }\r\n    //   return false\r\n    // });\r\n    \r\n    // function progressHandler(event) {\r\n    //   // считаем размер загруженного и процент от полного размера\r\n    //   const loadedMb = (event.loaded/BYTES_IN_MB).toFixed(1)\r\n    //   const totalSizeMb = (event.total/BYTES_IN_MB).toFixed(1)\r\n    //   const percentLoaded = Math.round((event.loaded / event.total) * 100)\r\n    \r\n    //   progressBar.value = percentLoaded\r\n    //   sizeText.textContent = `${loadedMb} из ${totalSizeMb} МБ`\r\n    //   statusText.textContent = `Загружено ${percentLoaded}% | `\r\n    // }\r\n    \r\n    // function loadHandler(event) {\r\n    //   statusText.textContent = event.target.responseText\r\n    //   progressBar.value = 0\r\n    // }\r\n\r\n\r\n$(document).on('click','.attach__content_delete', (function(){\r\n  $(this).parent().fadeOut (200, function() {\r\n  $(this).remove();\r\n})\r\n}))\r\n\r\n\r\n    function sendFiles(files) {\r\n      let maxFileSize = 5242880;\r\n      let Data = new FormData();\r\n      $(files).each(function(index, file) {\r\n        if ((file.size <= maxFileSize) && ((file.type == 'image/png') || (file.type == 'image/jpeg'))) {\r\n          Data.append('images[]', file);\r\n          $('.attach').append(`<div class=\"attach__content\"><div class=\"attach__content_delete\"><img src=\"./img/x-close.svg\" alt=\"x\"></div><div class=\"attach__content_name\">${file.name}</div><progress class=\"attach__content_progress\" value=\"100\" max=\"100\"></progress></div>`);\r\n        }\r\n      });\r\n  \r\n      $.ajax({\r\n        url: dropZone.attr('action'),\r\n        type: dropZone.attr('method'),\r\n        data: Data,\r\n        contentType: false,\r\n        processData: false,\r\n        success: function(data) {\r\n          alert ('Файлы были успешно загружены!');\r\n        }\r\n      });\r\n    }\r\n  })\r\n\r\n\r\n  // $('.js-slider').slick({\r\n  //   rows: 2,\r\n  //   slidesToShow: 4,\r\n  //   slidesToScroll: 4,\r\n  //   adaptiveHeight: true,\r\n  //   arrows: true,\r\n  //   dots: true,\r\n  //   appendDots:$(\".gallery__footer\"),\r\n  //   responsive: [\r\n  //     {\r\n  //         breakpoint: 700,\r\n  //         settings: {\r\n  //             rows: 2,\r\n  //             slidesToShow: 2,\r\n  //             slidesToScroll: 2\r\n  //         }\r\n  //     }\r\n  // ]\r\n  //   });\r\n    \r\n  jQuery(document).ready(function($) {\r\n    $('.JSslider').slickFilterable({\r\n        filterName: 'filter-heading',\r\n        filter: function( category, slider, settings ) {\r\n          return $(this).hasClass( category );\r\n        },\r\n        slick: {\r\n          rows: 2,\r\n          slidesToShow: 4,\r\n          slidesToScroll: 4,\r\n          adaptiveHeight: true,\r\n          arrows: true,\r\n          dots: true,\r\n          appendDots:$(\".gallery__footer\"),\r\n          responsive: [\r\n            {\r\n                breakpoint: 700,\r\n                settings: {\r\n                    rows: 2,\r\n                    slidesToShow: 2,\r\n                    slidesToScroll: 2\r\n                }\r\n            }\r\n        ]\r\n          }\r\n    });\r\n  });\r\n  \r\n  (function( $ ) {\r\n      $.fn.slickFilterable = function( options ) {\r\n  \r\n          /**\r\n           * A plugin to create a slick we can filter.\r\n           *\r\n           * If you are not using Rows you can use slickFilter\r\n           * (check documentation) otherwise we can provide a valid filter.\r\n           *\r\n           * options {\r\n           *      slideSelector    string     jQuery selector to get slides. Imetiate children by default.\r\n           *      filterName       string     We will search for data-{filterName} clickable elements.\r\n           *      slick            object     The slick settings. Check Slick doc.\r\n           *      beforeFilter     function   A fuction called before filter slider. Receives the trigger element\r\n           *                                  as this and 3 params: category (string), slider and slides (jQuery objects).\r\n           *      filter           mix        A valid parameter to jQuery filter() function. If it's a functio we will wrap\r\n           *                                  it and it receives the trigger element as this and 3 params: category (string),\r\n           *                                  slider (jQuery object) and a copy of settings (extended).\r\n           * }\r\n           */\r\n          var settings = $.extend({\r\n              slideSelector: '> *',\r\n              filterName: 'filter-slick',\r\n              slick: {},\r\n              beforeFilter: function() {},\r\n              filter: function( element, category, slider, settings ) { return true; },\r\n          }, options );\r\n  \r\n          return this.each(function() {\r\n              var slider = $(this),\r\n                  slides = slider.find( settings.slideSelector ),\r\n                  slickObj;\r\n  \r\n              /**\r\n               * Create Slick\r\n               *\r\n               * TIP: you should you 'slidesPerRow' instead 'slidesToShow' in grid mode (with rows)\r\n               * to avoid slick break layout when there are less slides than on \"page\".\r\n               */\r\n              slickObj = slider.slick( settings.slick );\r\n  \r\n              // Handle Filter Click\r\n              $('[data-' + settings.filterName + ']').on('click', function(event) {\r\n                  event.preventDefault();\r\n  \r\n                  var category = $(this).data(settings.filterName),\r\n                      newSlides = $.extend(true, {}, slides),\r\n                      newSlickOptions;\r\n  \r\n                  if ( ! category ) return;\r\n  \r\n                  // Before Filter Slides\r\n                  if ( typeof settings.beforeFilter == 'function' ) {\r\n                      settings.beforeFilter.call(this, category, slider, slides);\r\n                  }\r\n  \r\n                  // Destroy and empty\r\n                  slider.slick('unslick');\r\n  \r\n                  // Recreate All Slides\r\n                  if ( category === 'all' ) {\r\n                      slider.find( settings.slideSelector ).remove();\r\n                      slider.append( newSlides );\r\n                      slider.slick( settings.slick );\r\n  \r\n                      return;\r\n                  }\r\n  \r\n                  /**\r\n                   * Filter Slides\r\n                   *\r\n                   * If settings.filter is a function we pass the category, slider and a copy of settings\r\n                   * expecting a true or false return to pass it to jQuery.filter();\r\n                   *\r\n                   * If not, we just pass it directly.\r\n                   */\r\n                  if ( typeof settings.filter !== 'function' ) {\r\n                      newSlides = newSlides.filter( settings.filter );\r\n                  } else {\r\n                      newSlides = newSlides.filter( function() {\r\n                          return settings.filter.call( this, category, slider, $.extend( true, {}, settings ) );\r\n                      } );\r\n                  }\r\n  \r\n                  slider.find( settings.slideSelector ).remove();\r\n                  slider.append( newSlides );\r\n                  slider.slick( settings.slick );\r\n              });\r\n          });\r\n      };\r\n  }(jQuery));\r\n"]}